=== RUN   TestSingleMasterFailure
2021/05/11 03:00:18 rpc.Register: method "CleanupFiles" has 1 input parameters; needs exactly three
2021/05/11 03:00:18 rpc.Register: method "Lock" has 1 input parameters; needs exactly three
2021/05/11 03:00:18 rpc.Register: method "Unlock" has 1 input parameters; needs exactly three
2021/05/11 03:00:18 rpc.Register: method "Wait" has 1 input parameters; needs exactly three
2021/05/11 03:00:18 rpc.Register: method "Lock" has 1 input parameters; needs exactly three
2021/05/11 03:00:18 rpc.Register: method "Unlock" has 1 input parameters; needs exactly three
updateWorkerLog: Adding /var/tmp/824-1000/mr15389-worker1 to log file!
recoverMaster: Attempting to recover master!
recoverMaster: Failed to recover master! Read: , Expected test
overwriteTaskLog: New jobName test 	 new phase Map!
overwriteWorkerLog: New jobName test 
overwriteWorkerLog: Overwritten log file!
/var/tmp/824-1000/mr15389-master: Starting Map/Reduce task test
Schedule: NotCompleted: 0
Schedule: NotCompleted: 1
Schedule: NotCompleted: 2
Schedule: NotCompleted: 3
Schedule: NotCompleted: 4
Schedule: NotCompleted: 5
Schedule: NotCompleted: 6
Schedule: NotCompleted: 7
Schedule: NotCompleted: 8
Schedule: NotCompleted: 9
Schedule: NotCompleted: 10
Schedule: NotCompleted: 11
Schedule: NotCompleted: 12
Schedule: NotCompleted: 13
Schedule: NotCompleted: 14
Schedule: NotCompleted: 15
2021/05/11 03:00:18 rpc.Register: method "Lock" has 1 input parameters; needs exactly three
2021/05/11 03:00:18 rpc.Register: method "Unlock" has 1 input parameters; needs exactly three
2021/05/11 03:00:18 rpc.Register: method "Lock" has 1 input parameters; needs exactly three
2021/05/11 03:00:18 rpc.Register: method "Unlock" has 1 input parameters; needs exactly three
2021/05/11 03:00:18 rpc.Register: method "Lock" has 1 input parameters; needs exactly three
2021/05/11 03:00:18 rpc.Register: method "Unlock" has 1 input parameters; needs exactly three
updateWorkerLog: Adding /var/tmp/824-1000/mr15389-worker1 to log file!
updateWorkerLog: Adding /var/tmp/824-1000/mr15389-worker0 to log file!
updateWorkerLog: Adding /var/tmp/824-1000/mr15389-worker0 to log file!
2021/05/11 03:00:20 rpc.Register: method "Lock" has 1 input parameters; needs exactly three
2021/05/11 03:00:20 rpc.Register: method "Unlock" has 1 input parameters; needs exactly three
2021/05/11 03:00:20 rpc.Register: method "Lock" has 1 input parameters; needs exactly three
2021/05/11 03:00:20 rpc.Register: method "Unlock" has 1 input parameters; needs exactly three
updateWorkerLog: Adding /var/tmp/824-1000/mr15389-worker2 to log file!
updateWorkerLog: Adding /var/tmp/824-1000/mr15389-worker3 to log file!
updateTaskLog: Adding 0 to log file!
updateTaskLog: Updated log file!
updateTaskLog: Adding 2 to log file!
updateTaskLog: Updated log file!
updateTaskLog: Adding 1 to log file!
updateTaskLog: Updated log file!
updateTaskLog: Adding 15 to log file!
updateTaskLog: Updated log file!
2021/05/11 03:00:22 rpc.Register: method "Lock" has 1 input parameters; needs exactly three
2021/05/11 03:00:22 rpc.Register: method "Unlock" has 1 input parameters; needs exactly three
2021/05/11 03:00:22 rpc.Register: method "Lock" has 1 input parameters; needs exactly three
2021/05/11 03:00:22 rpc.Register: method "Unlock" has 1 input parameters; needs exactly three
updateWorkerLog: Adding /var/tmp/824-1000/mr15389-worker4 to log file!
updateWorkerLog: Adding /var/tmp/824-1000/mr15389-worker5 to log file!
2021/05/11 03:00:24 rpc.Register: method "Lock" has 1 input parameters; needs exactly three
2021/05/11 03:00:24 rpc.Register: method "Unlock" has 1 input parameters; needs exactly three

Test: Simulating master failure!

2021/05/11 03:00:24 rpc.Register: method "Lock" has 1 input parameters; needs exactly three
2021/05/11 03:00:24 rpc.Register: method "Unlock" has 1 input parameters; needs exactly three
2021/05/11 03:00:26 rpc.Register: method "Lock" has 1 input parameters; needs exactly three
2021/05/11 03:00:26 rpc.Register: method "Unlock" has 1 input parameters; needs exactly three
2021/05/11 03:00:26 rpc.Register: method "Lock" has 1 input parameters; needs exactly three
2021/05/11 03:00:26 rpc.Register: method "Unlock" has 1 input parameters; needs exactly three

Test: Simulating master reboot!

2021/05/11 03:00:28 rpc.Register: method "CleanupFiles" has 1 input parameters; needs exactly three
2021/05/11 03:00:28 rpc.Register: method "Lock" has 1 input parameters; needs exactly three
2021/05/11 03:00:28 rpc.Register: method "Unlock" has 1 input parameters; needs exactly three
2021/05/11 03:00:28 rpc.Register: method "Wait" has 1 input parameters; needs exactly three
2021/05/11 03:00:28 rpc.Register: method "Lock" has 1 input parameters; needs exactly three
2021/05/11 03:00:28 rpc.Register: method "Unlock" has 1 input parameters; needs exactly three
updateWorkerLog: Adding /var/tmp/824-1000/mr15389-worker11 to log file!
recoverMaster: Attempting to recover master!
recoverMaster: jobName matches!
recoverMaster: Phase is Map!
recoverMaster: Found completed task 0!
recoverMaster: Found completed task 2!
recoverMaster: Found completed task 1!
recoverMaster: Found completed task 15!
recoverWorkers: Attempting to recover workers!
recoverWorkers: jobName matches!
recoverWorkers: Found worker /var/tmp/824-1000/mr15389-worker1!
recoverWorkers: Found worker /var/tmp/824-1000/mr15389-worker0!
recoverWorkers: Found worker /var/tmp/824-1000/mr15389-worker0!
recoverWorkers: Found worker /var/tmp/824-1000/mr15389-worker2!
recoverWorkers: Found worker /var/tmp/824-1000/mr15389-worker3!
recoverWorkers: Found worker /var/tmp/824-1000/mr15389-worker4!
recoverWorkers: Found worker /var/tmp/824-1000/mr15389-worker5!
recoverWorkers: Found worker /var/tmp/824-1000/mr15389-worker11!
overwriteWorkerLog: New jobName test 
overwriteWorkerLog: Overwritten log file!
2021/05/11 03:00:28 rpc.Register: method "Lock" has 1 input parameters; needs exactly three
2021/05/11 03:00:28 rpc.Register: method "Unlock" has 1 input parameters; needs exactly three
ReRegistering /var/tmp/824-1000/mr15389-worker1
updateWorkerLog: Adding /var/tmp/824-1000/mr15389-worker1 to log file!
updateWorkerLog: Adding /var/tmp/824-1000/mr15389-worker10 to log file!
ReRegistering /var/tmp/824-1000/mr15389-worker0
updateWorkerLog: Adding /var/tmp/824-1000/mr15389-worker0 to log file!
ReRegistering /var/tmp/824-1000/mr15389-worker0
updateWorkerLog: Adding /var/tmp/824-1000/mr15389-worker0 to log file!
ReRegistering /var/tmp/824-1000/mr15389-worker2
updateWorkerLog: Adding /var/tmp/824-1000/mr15389-worker2 to log file!
ReRegistering /var/tmp/824-1000/mr15389-worker3
updateWorkerLog: Adding /var/tmp/824-1000/mr15389-worker3 to log file!
ReRegistering /var/tmp/824-1000/mr15389-worker4
updateWorkerLog: Adding /var/tmp/824-1000/mr15389-worker4 to log file!
ReRegistering /var/tmp/824-1000/mr15389-worker5
updateWorkerLog: Adding /var/tmp/824-1000/mr15389-worker5 to log file!
ReRegistering /var/tmp/824-1000/mr15389-worker11
updateWorkerLog: Adding /var/tmp/824-1000/mr15389-worker11 to log file!
recoverWorkers: Successfully recovered workers!
recoverMaster: Successfully recovered master!
/var/tmp/824-1000/mr15389-master: Continuing Map/Reduce task test
Schedule: NotCompleted: 12
Schedule: NotCompleted: 13
Schedule: NotCompleted: 14
Schedule: NotCompleted: 3
Schedule: NotCompleted: 4
Schedule: NotCompleted: 5
Schedule: NotCompleted: 6
Schedule: NotCompleted: 7
Schedule: NotCompleted: 8
Schedule: NotCompleted: 9
Schedule: NotCompleted: 10
Schedule: NotCompleted: 11
2021/05/11 03:00:30 rpc.Register: method "Lock" has 1 input parameters; needs exactly three
2021/05/11 03:00:30 rpc.Register: method "Unlock" has 1 input parameters; needs exactly three
2021/05/11 03:00:30 rpc.Register: method "Lock" has 1 input parameters; needs exactly three
2021/05/11 03:00:30 rpc.Register: method "Unlock" has 1 input parameters; needs exactly three
updateWorkerLog: Adding /var/tmp/824-1000/mr15389-worker12 to log file!
updateWorkerLog: Adding /var/tmp/824-1000/mr15389-worker13 to log file!
2021/05/11 03:00:32 rpc.Register: method "Lock" has 1 input parameters; needs exactly three
2021/05/11 03:00:32 rpc.Register: method "Unlock" has 1 input parameters; needs exactly three
2021/05/11 03:00:33 rpc.Register: method "Lock" has 1 input parameters; needs exactly three
2021/05/11 03:00:33 rpc.Register: method "Unlock" has 1 input parameters; needs exactly three
updateWorkerLog: Adding /var/tmp/824-1000/mr15389-worker14 to log file!
updateWorkerLog: Adding /var/tmp/824-1000/mr15389-worker15 to log file!
2021/05/11 03:00:34 rpc.Register: method "Lock" has 1 input parameters; needs exactly three
2021/05/11 03:00:34 rpc.Register: method "Unlock" has 1 input parameters; needs exactly three
2021/05/11 03:00:34 rpc.Register: method "Lock" has 1 input parameters; needs exactly three
2021/05/11 03:00:34 rpc.Register: method "Unlock" has 1 input parameters; needs exactly three
updateWorkerLog: Adding /var/tmp/824-1000/mr15389-worker16 to log file!
updateWorkerLog: Adding /var/tmp/824-1000/mr15389-worker17 to log file!
updateTaskLog: Adding 5 to log file!
updateTaskLog: Updated log file!
updateTaskLog: Adding 7 to log file!
updateTaskLog: Updated log file!
updateTaskLog: Adding 3 to log file!
updateTaskLog: Updated log file!
updateTaskLog: Adding 13 to log file!
updateTaskLog: Updated log file!
2021/05/11 03:00:36 rpc.Register: method "Lock" has 1 input parameters; needs exactly three
2021/05/11 03:00:36 rpc.Register: method "Unlock" has 1 input parameters; needs exactly three
updateTaskLog: Adding 6 to log file!
updateTaskLog: Updated log file!
2021/05/11 03:00:36 rpc.Register: method "Lock" has 1 input parameters; needs exactly three
2021/05/11 03:00:36 rpc.Register: method "Unlock" has 1 input parameters; needs exactly three
updateWorkerLog: Adding /var/tmp/824-1000/mr15389-worker18 to log file!
updateWorkerLog: Adding /var/tmp/824-1000/mr15389-worker19 to log file!
updateTaskLog: Adding 4 to log file!
updateTaskLog: Updated log file!
updateTaskLog: Adding 12 to log file!
updateTaskLog: Updated log file!
updateTaskLog: Adding 8 to log file!
updateTaskLog: Updated log file!
updateTaskLog: Adding 14 to log file!
updateTaskLog: Updated log file!
updateTaskLog: Adding 11 to log file!
updateTaskLog: Updated log file!
updateTaskLog: Adding 9 to log file!
updateTaskLog: Updated log file!
updateTaskLog: Adding 10 to log file!
updateTaskLog: Updated log file!
overwriteTaskLog: New jobName test 	 new phase Reduce!
Schedule: NotCompleted: 0
Schedule: NotCompleted: 1
Schedule: NotCompleted: 2
2021/05/11 03:00:38 rpc.Register: method "Lock" has 1 input parameters; needs exactly three
2021/05/11 03:00:38 rpc.Register: method "Unlock" has 1 input parameters; needs exactly three
2021/05/11 03:00:38 rpc.Register: method "Lock" has 1 input parameters; needs exactly three
2021/05/11 03:00:38 rpc.Register: method "Unlock" has 1 input parameters; needs exactly three
updateWorkerLog: Adding /var/tmp/824-1000/mr15389-worker20 to log file!
updateWorkerLog: Adding /var/tmp/824-1000/mr15389-worker21 to log file!
updateTaskLog: Adding 2 to log file!
updateTaskLog: Updated log file!
updateTaskLog: Adding 0 to log file!
updateTaskLog: Updated log file!
updateTaskLog: Adding 1 to log file!
updateTaskLog: Updated log file!
overwriteTaskLog: New jobName test 	 new phase Merge!
Master Distributed: killing workers!
/var/tmp/824-1000/mr15389-master: Map/Reduce task completed
job: test with [16] mappers and [3] reducers completes in 11.861046seconds
--- PASS: TestSingleMasterFailure (22.79s)
PASS
ok  	mr/mapreduce	22.803s
